{"ast":null,"code":"var _jsxFileName = \"/home/marius/Documents/DT/client/src/components/pages/Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport PostContext from '../../context/post/postContext';\nimport Post from '../posts/Post';\nimport AuthContext from '../../context/auth/authContext';\nimport AlertContext from '../../context/alert/alertContext';\nimport Spinner from '../layout/Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const postContext = useContext(PostContext);\n  const authContext = useContext(AuthContext);\n  const alertContext = useContext(AlertContext);\n  const {\n    posts,\n    getPosts,\n    loading,\n    addPost\n  } = postContext;\n  const {\n    isAuthenticated,\n    user\n  } = authContext;\n  const {\n    setAlert\n  } = alertContext;\n\n  // State for new post form\n  const [newPost, setNewPost] = useState({\n    title: '',\n    content: ''\n  });\n  const {\n    title,\n    content\n  } = newPost;\n  useEffect(() => {\n    if (localStorage.token) {\n      authContext.loadUser();\n    }\n    getPosts();\n    // eslint-disable-next-line\n  }, []);\n  if (loading && posts.length === 0) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }, this);\n  }\n  const onChange = e => setNewPost({\n    ...newPost,\n    [e.target.name]: e.target.value\n  });\n  const onSubmit = e => {\n    e.preventDefault();\n    if (title.trim() === '' || content.trim() === '') {\n      setAlert('Please fill in both title and content', 'danger');\n    } else {\n      addPost(newPost);\n      setAlert('Post Created Successfully', 'success');\n      setNewPost({\n        title: '',\n        content: ''\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [isAuthenticated && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md overflow-hidden mb-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900 mb-4\",\n          children: \"Create a New Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Post title\",\n              name: \"title\",\n              value: title,\n              onChange: onChange,\n              className: \"w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"Write your post content here...\",\n              name: \"content\",\n              value: content,\n              onChange: onChange,\n              rows: \"3\",\n              className: \"w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\",\n              children: \"Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900 mb-4\",\n        children: \"Latest Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), posts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"No posts to display. Be the first to create one!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: posts.map(post => /*#__PURE__*/_jsxDEV(Post, {\n          post: post\n        }, post._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"oXIYDrlc0Jovthm2n/DC3hfn8bA=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useContext","useEffect","PostContext","Post","AuthContext","AlertContext","Spinner","jsxDEV","_jsxDEV","Home","_s","postContext","authContext","alertContext","posts","getPosts","loading","addPost","isAuthenticated","user","setAlert","newPost","setNewPost","title","content","localStorage","token","loadUser","length","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","name","value","onSubmit","preventDefault","trim","className","children","type","placeholder","required","rows","map","post","_id","_c","$RefreshReg$"],"sources":["/home/marius/Documents/DT/client/src/components/pages/Home.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport PostContext from '../../context/post/postContext';\nimport Post from '../posts/Post';\nimport AuthContext from '../../context/auth/authContext';\nimport AlertContext from '../../context/alert/alertContext';\nimport Spinner from '../layout/Spinner';\n\nconst Home = () => {\n  const postContext = useContext(PostContext);\n  const authContext = useContext(AuthContext);\n  const alertContext = useContext(AlertContext);\n  \n  const { posts, getPosts, loading, addPost } = postContext;\n  const { isAuthenticated, user } = authContext;\n  const { setAlert } = alertContext;\n\n  // State for new post form\n  const [newPost, setNewPost] = useState({\n    title: '',\n    content: ''\n  });\n\n  const { title, content } = newPost;\n\n  useEffect(() => {\n    if (localStorage.token) {\n      authContext.loadUser();\n    }\n    getPosts();\n    // eslint-disable-next-line\n  }, []);\n\n  if (loading && posts.length === 0) {\n    return <Spinner />;\n  }\n\n  const onChange = e => setNewPost({ ...newPost, [e.target.name]: e.target.value });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    if (title.trim() === '' || content.trim() === '') {\n      setAlert('Please fill in both title and content', 'danger');\n    } else {\n      addPost(newPost);\n      setAlert('Post Created Successfully', 'success');\n      setNewPost({ title: '', content: '' });\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      {isAuthenticated && (\n        <div className=\"bg-white rounded-lg shadow-md overflow-hidden mb-8\">\n          <div className=\"p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Create a New Post</h2>\n            <form onSubmit={onSubmit}>\n              <div className=\"mb-4\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Post title\"\n                  name=\"title\"\n                  value={title}\n                  onChange={onChange}\n                  className=\"w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\n                  required\n                />\n              </div>\n              <div className=\"mb-4\">\n                <textarea\n                  placeholder=\"Write your post content here...\"\n                  name=\"content\"\n                  value={content}\n                  onChange={onChange}\n                  rows=\"3\"\n                  className=\"w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\n                  required\n                ></textarea>\n              </div>\n              <div className=\"flex justify-end\">\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\"\n                >\n                  Post\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Latest Posts</h1>\n        {posts.length === 0 ? (\n          <p className=\"text-gray-500\">No posts to display. Be the first to create one!</p>\n        ) : (\n          <div className=\"space-y-6\">\n            {posts.map(post => (\n              <Post key={post._id} post={post} />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Home; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}